## การเขียนโปรแกรมเชิงอ็อบเจกต์ (Object-Oriented Programming)

สมมติว่าเราต้องการเก็บข้อมูลของคำแต่ละคำที่อยู่ในย่อหน้าย่อหน้าหนึ่ง  โครงสร้างข้อมูลที่เหมาะกับข้อมูลประเภทนี้ คือ ลิสต์ที่เก็บสตริง เช่น
```python
paragraph = ['Apple', 'Inc.' 'is' 'an' 'American' 'multinational' 'technology' 'company'  'headquartered', 'in' 'Cupertino', 'California' '.']
```
แต่สมมติอีกว่าเราต้องการเก็บข้อมูลของแต่ละคำอย่างละเอียดขึ้น เช่น ประเภทของคำ (part-of-speech tag) ประเภทของชื่อเฉพาะ (named entity tag) คำนี้เป็นภาษาอะไร คำนี้เป็นคำที่ขึ้นต้นประโยคหรือไม่ คำนี้มีรูปก่อนการผันรูปเป็นอะไร (lemma)   โครงสร้างข้อมูลที่เหมาะกับข้อมูลประเภทนี้ คือ ลิสต์ของดิกชันนารี เช่น
```python
paragraph = [
    {'word': 'Apple', 'pos': 'NNP', 'ner': 'ORG', 'lang': 'en', 'is_first': True, 'lemma': 'apple'},
    {'word': 'Inc.', 'pos': 'NNP', 'ner': 'ORG', 'lang': 'en', 'is_first': False, 'lemma': 'inc.'},
    {'word': 'is', 'pos': 'VBZ', 'ner': 'O', 'lang': 'en', 'is_first': False, 'lemma': 'be'},
    {'word': 'an', 'pos': 'DT', 'ner': 'O', 'lang': 'en', 'is_first': False, 'lemma': 'an'},
    {'word': 'American', 'pos': 'JJ', 'ner': 'MISC', 'lang': 'en', 'is_first': False, 'lemma': 'american'},
    {'word': 'multinational', 'pos': 'JJ', 'ner': 'O', 'lang': 'en', 'is_first': False, 'lemma': 'multinational'},
    {'word': 'technology', 'pos': 'NN', 'ner': 'O', 'lang': 'en', 'is_first': False, 'lemma': 'technology'},
    {'word': 'company', 'pos': 'NN', 'ner': 'O', 'lang': 'en', 'is_first': False, 'lemma': 'company'},
    {'word': 'headquartered', 'pos': 'VBN', 'ner': 'O', 'lang': 'en', 'is_first': False, 'lemma': 'headquarter'},
    {'word': 'in', 'pos': 'IN', 'ner': 'O', 'lang': 'en', 'is_first': False, 'lemma': 'in'},
    {'word': 'Cupertino', 'pos': 'NNP', 'ner': 'LOC', 'lang': 'en', 'is_first': False, 'lemma': 'cupertino'},
    {'word': 'California', 'pos': 'NNP', 'ner': 'LOC', 'lang': 'en', 'is_first': False, 'lemma': 'california'},
    {'word': '.', 'pos': '.', 'ner': 'O', 'lang': 'en', 'is_first': False, 'lemma': '.'}
]
```
อย่างแรกที่เราสังเกตได้คือ ดิกชันนารีที่เราใช้มีฟิลด์ถึง 6 ฟิลด์ การจะเขียนโปรแกรมขึ้นมาเพื่อประมวลผลวิเคราะห์ข้อมูลประเภทนี้ เราจะต้องระวังว่าดิกชันนารีแต่ละอันที่เก็บข้อมูลของคำจะต้องมีฟิลด์เท่ากันหมด และผู้ที่เขียนฟังก์ชันเพื่อประมวลผลดิกชันนารีจะต้องทราบด้วยว่าฟิลด์เหล่านี้มีอะไรบ้าง เก็บอะไรไว้บ้าง ถ้าหากมีการเปลี่ยนแปลงชื่อฟิลด์ หรือเพิ่มฟิลด์ใหม่ ฟังก์ชันที่เขียนขึ้นมาเพื่อประมวลผลดิกชันนารีจะต้องถูกแก้ไขใหม่ทั้งหมด ซึ่งอาจจะทำให้เกิดข้อผิดพลาดได้ เพราะว่าโค้ดที่ใช้ในการสร้างดิกชันนารีขึ้นมา กับโค้ดที่ใช้ในการประมวลผลอาจจะอยู่คนละที่ คนละไฟล์กัน ทำให้โค้ดที่เขียนขึ้นมานั้นยากต่อการบำรุงรักษา และยากต่อการเปลี่ยนแปลง 

## คลาส (class) และอ็อบเจกต์ (object)
การเขียนโปรแกรมเชิงอ็อบเจกต์ (Object-Oriented Programming: OOP) คือหลักการที่เราจะใช้ในการออกแบบโครงสร้างข้อมูลเพื่อให้สะดวกกับกรณีการใช้งานดังตัวอย่างข้างต้น หลักการของ OOP คือการออกแบบโครงสร้างข้อมูลขี้นมาเป็นพิเศษ เจาะจงกับข้อมูลที่เราต้องการจะเก็บ โครงสร้างข้อมูลนี้เรียกว่าคลาส (class) 

คลาสในภาษาไพธอน[^pythonoop] ประกอบด้วย ลักษณะประจำ (attribute) ซึ่งใช้เก็บข้อมูลคล้ายคลึงกับตัวแปร เมท็อด (method) ซึ่งเป็นโค้ดที่ใช้ประมวลผลลักษณะประจำคลาส และสิ่งสืบทอด (inheritance) ซึ่งใช้ดึงเอาเมท็อดจากคลาสอื่นมาใช้ เพื่อให้เห็นภาพมากขึ้น เราจะลองเขียนคลาสเพื่อใช้เก็บข้อมูลเกี่ยวกับคำในประโยคแทนที่ดิกชันนารี เราขอเรียกว่าโทเค็น (token) แทนที่คำว่า *คำ* [^token] โทเค็น หมายถึง หน่วยหนึ่งหน่วยที่ผู้วิเคราะห์ใช้เป็นหน่วยที่เล็กที่สุดในการประมวลผล ตัวอย่างโค้ดในการกำหนดคลาสมีดังนี้

[^pythonoop]: ไพธอนไม่ได้สนับสนุนลักษณะเด่น ๆ อื่น ๆ ของการเขียนโปรแกรมเชิงอ็อบเจกต์ เช่น การกำหนดสาระสำคัญ (abstraction) การห่อหุ้ม (encapsulation) ภาวะพหุสัณฐาน
(polymorphism)  ผู้เขียนจึงขอเน้นเฉพาะลักษณะที่ภาษาไพธอนสนับสนุนเท่านั้น

[^token]: เนื่องจากคำในความหมายที่อ้างอิงตามมโนทัศน์ทางภาษาศาสตร์มีคำนิยามเฉพาะซึ่งไม่เหมือนกับโทเค็น 

```python
class Token:
    word = ''
    pos = ''
    ner = ''
    lang = ''
    is_first = False
    lemma = '' 
```
บรรทัดแรก คือ การตั้งชื่อคลาส โดยการใช้คีย์เวิร์ด `class` ตามด้วยชื่อคลาส ชื่อคลาสมักจะใช้การสะกดแบบหลังอูฐ (camel case) ถ้าหากชื่อคลาสประกอบด้วยคำหลายคำ ให้ตัวอักษรแรกของแต่ละคำเป็นตัวใหญ่เช่น (`LanguageModel`, `AutoTokenizer`, `DefaultModelConfiguration`) จากนั้นให้ปิดด้วย `:`

บรรทัดต่อมา จะต้องเริ่มด้วยการเคาะย่อหน้าเพื่อบ่งบอกว่าโค้ดบล็อกที่อยู่ในย่อหน้านั้นเป็นของการกำหนดคลาส และจากนั้นก็เป็นการกำหนดลักษณะประจำคลาส (class attribute)ซึ่งจะเป็นการกำหนดตัวแปรที่คลาสนี้จำเป็นต้องมี  ในตัวอย่างนี้เรากำหนดลักษณะประจำของคลาส `Token` มีลักษณะประจำทั้งหมด 6 อย่าง คือ `word`, `pos`, `ner`, `lang`, `is_first`, `lemma` โดยเรากำหนดค่าเริ่มต้นให้กับลักษณะประจำทั้งหมด โดยใช้เครื่องหมาย `=` คล้ายคลึงกับการกำหนดค่าตัวแปร 

คลาส เป็นเพียงแค่ต้นแบบ หรือแบบแปลนให้ทราบว่าหนึ่งโทเคนนั้นจะต้องประกอบไปด้วยตัวแปรย่อย ๆ ซึ่งก็คือลักษณะประจำคลาส เมื่อเราต้องการนำคลาสนี้ไปใช้เก็บข้อมูล จะต้องมีการสร้างอ็อบเจกต์ (object) ของคลาสนี้ กระบวนการนี้เรียกว่า การสร้างกรณีตัวอย่าง (instantiation) ในภาษาไพธอนมีวิธีการสร้างอ็อบเจกต์โดยการใช้ชื่อคลาสตามด้วย `()` เช่น

```python
first_word = Token()
second_word = Token()
```
เราได้สร้างอ็อบเจกต์ของคลาสเก็บใส่ตัวแปร `first_word` และ `second_word` ในการกระบวนการนี้เราได้สร้างตัวแปรย่อย 6 ตัวเก็บไว้ใน `first_word` และตัวแปรย่อยอีก 6 ตัวเก็บไว้ใน `second_word` เป็นตัวแปรสองชุดแยกจากกันโดยสิ้นเชิง

ถ้าหากเราต้องการเข้าถึงตัวแปรที่อยู่ในอ็อบเจกต์โดยใช้ `.`ตามด้วยชื่อของตัวแปร