# ดิกชันนารี (Dictionary)
ดิกชันนารี (ซึ่งโปรแกรมเมอร์มักเรียกว่าดิกต์ (dict) เฉย ๆ) คือ โครงสร้างข้อมูลที่ไว้เก็บคู่ของ key และ value (key-value pair) จำนวนมาก ๆ จึงเรียกเปรียบเปรยว่าเหมือนพจนานุกรมซึ่งมี key เป็นคำที่เราต้องการหาความหมาย และ value เป็นควาหมายของคำแต่ละคำ พจนานุกรมจะสมบูรณ์ได้ก็ต่อเมื่อมีคู่ key (คำ) และ value (ความหมาย) จำนวนมาก ๆ ให้ครอบคลุมเกือบทุกคำในภาษา แต่ในไพธอนดิกชันนารีมีสามารถมี key เป็นอะไรก็ได้ และ value เป็นอะไรก็ได้เช่นกัน 

ข้อเหมือนอีกประการหนึ่งระหว่างดิกต์กับพจนานุกรม คือ เราใช้ดิกต์หรือพจนานุกรมเพื่อตอบคำถามว่า *คำนี้ มีความหมายว่าอะไร* แต่ไม่สามารถตอบคำถามว่า *ความหมายนี้ตรงกับคำว่าอะไร* เราสามารถเปิดหาว่าได้ว่า key ได้มานั้นอยู่คู่กับ value ตัวไหน ภาษาวิทยาการคอมพิวเตอร์มักเรียกว่าดิกต์เป็นการแมพจาก key ไปยัง value (key-value mapping)

ตัวอย่างการใช้ดิกต์ในการเก็บข้อมูล ได้แก่

|  	         			| key | value | 
|----------------------|----|--------|
| สมุดโทรศัพท์			| ชื่อ | เบอร์โทรศัพท์ |
| พจนานุกรมไทย-อังกฤษ	| คำศัพท์ภาษาไทย | ความหมายเป็นภาษาอังกฤษ | 
| ทะเบียน				| รหัสประจำตัวนิสิต | รายวิชาที่ลง | 
| ดัชนีท้ายเล่มหนังสือ		| คำสำคัญ | เลขหน้าที่มีคำนั้นอยู่ | 
| search engine		| คำ | หมายเลขของเอกสารที่มีคำนั้นอยู่  | 
| สถิติของคำ 		|  คำ  | จำนวนครั้งที่พบเจอคำนั้นในคลังข้อมูล | 

จากตัวอย่างแรกหากเราจัดเก็บสมุดโทรศัพท์ โดยให้ key เป็นชื่อ value เป็นเบอร์โทรศัพท์ เราจะไม่สามารถเปิดหาได้ว่าเบอร์ปริศนาที่ได้มานั้นเป็นเบอร์ของใคร 

จุดเด่นของดิกชันนารีคือสามารถเปิดหา (lookup) value จาก key ที่กำหนดให้ได้อย่างรวดเร็วที่สุด โดยไม่ต้องคำนึงว่าดิกชันนารีเก็บ key value ไว้ทั้งหมดกี่คู่ ภาษาวิทยาการคอมพิวเตอร์เรียกว่า ระยะเวลาคงตัว (constant time) ย้อนกลับไปตัวอย่างการจัดเก็บสมุดโทรศัพท์ ในตัวอย่างนี้ถ้าพูดกันให้ถูกต้องจริง ๆ เราสามารถเปิดหาได้ว่าเบอร์ปริศนาที่ได้มานั้นเป็นของใคร แต่ว่าเราจะต้องเปิดไล่หาทั้งสมุดโทรศัพท์ ถ้าเรามี key value อยู่เยอะคู่ ระยะเวลาที่โปรแกรมใช้ในการ lookup ก็เยอะตามไปด้วย ภาษาวิทยาการคอมพิวเตอร์เรียกว่าระยะเวลาเชิงเส้น (linear time) 

## การสร้างดิกชันนารีด้วย `{}`
ดิกชันนารีถูกสร้างได้ด้วยการใช้ `{}` ซึ่งห้ามใช้ `()` หรือ `[]` (ใช้สร้างลิสต์)
```python
my_first_dict = {}
```
ตัวแปร `my_first_dict` เป็นดิกต์เปล่าที่ไม่มีข้อมูลเก็บอยู่เลย

เราสามารถใช้ `{}` คร่อมข้อมูล key-value pair ที่ต้องการเก็บได้โดยตรง โดยใช้ไวยากรณ์ในการสร้างดังนี้
```python
ชื่อตัวแปร = {key1:value1, key2:value2, key3:value3, ..., keyn:valuen}
```
จับคู่ key และ value โดยใช้เครื่องหมาย `:` และแต่ละ key-value pair คั่นด้วยเครื่องหมาย `,` คล้ายๆ กับการสร้างลิสต์ที่ใช้ `,` ในการคั่นสมาชิกแต่ละตัว เช่น

```python
name_to_phone_number = {'ตังเม': '088-888-8888', 'เป่าหลง' : '099-999-9999', 
			 'เจนนี่': '011-111-1111'}
```
ดิกชันนารีเก็บข้อมูลดังนี้ 

| key | value |
|-----|-------|
|'ตังเม'| '088-888-8888'|
|'เป่าหลง'| '099-999-9999'|
|'เจนนี่'| '011-111-1111'|

## ชื่อตัวแปรที่เก็บดิกชันนารี
ชื่อตัวแปรที่เก็บดิกชันนารีควรจะบอกให้ชัดเจนว่า key คืออะไร และ value คืออะไร และคั่นด้วย `_to_` เพื่อเป็นการบ่งบอกว่าตัวแปรเก็บดิกชันนารี เช่น
`name_to_phone_number` หรือ `word_to_frequency` หรือ `student_id_to_name` เป็นต้น 
ถึงแม้ว่าชื่อตัวแปรไม่ได้มีผลต่อการทำงานของโปรแกรมแต่อย่างใด แต่เนื่องจากดิกต์เป็นโครงสร้างข้อมูลที่ค่อนข้างซับซ้อน เราจึงควรที่จะตั้งชื่อตัวแปรให้สื่อความหมายว่าเก็บข้อมูลอะไรอยู่ 

## หาจำนวนคู่ key-value ด้วยคำสั่ง `len`
คำสั่ง `len` เมื่อใช้กับดิกต์จะ return จำนวนคู่ของ key-value ที่อยู่ในดิก
```python
name_to_phone_number = {'ตังเม': '088-888-8888', 'เป่าหลง' : '099-999-9999',
	'เจนนี่': '011-111-1111'}
len(name_to_phone_number) #--> 3
```

## เพิ่มข้อมูล (คู่ key-value) เข้าดิกชันนารี
เมื่อเราสร้างดิกต์ขึ้นมาแล้วอันหนึ่งเราสามารถเพิ่มคู่ key value ได้ด้วยคำสั่ง `d[key] = value` โดย key จะเป็นสตริง หรือตัวเลขก็ได้ แต่ไม่สามารถใช้บูลีน หรือลิสต์มาเป็นคีย์ได้ เช่น 
```python
name_to_phone_number = {'ตังเม': '088-888-8888', 'เป่าหลง' : '099-999-9999',
	'เจนนี่': '011-111-1111'}
name_to_phone_number['โนโซมิ'] = '066-666-6666'
```
บรรทัดแรกเราสร้างดิกชันนารรีที่เก็บค่า key value ดังนี้
| key | value |
|-----|-------|
|'ตังเม'| '088-888-8888'|
|'เป่าหลง'| '099-999-9999'|
|'เจนนี่'| '011-111-1111'|

หลังจากรันบรรทัดที่ 2 ข้อมูลในดิกชันนารีจะกลายเป็น
| key | value |
|-----|-------|
|'ตังเม'| '088-888-8888'|
|'เป่าหลง'| '099-999-9999'|
|'เจนนี่'| '011-111-1111'|
|'โนโซมิ'|  '066-666-6666' |

ข้อควรระวังคือ key ที่อยู่ในดิกต์ห้ามซ้ำกัน ถ้าหากเราพยายามเพ่ิมคู่ที่มี key กับ key ที่เก็บอยู่ในดิกต์อยู่แล้ว คู่ key value เดิมจะถูกเขียนทับไปเช่น 
```python
name_to_phone_number = {'ตังเม': '088-888-8888', 'เป่าหลง' : '099-999-9999',
	'เจนนี่': '011-111-1111'}
name_to_phone_number['โนโซมิ'] = '066-666-6666'
name_to_phone_number['ตังเม'] = '011-222-3333'
```
หลังจากรันโค้ดนี้แล้ว ข้อมูลในดิกชันนารีมีดังต่อไปนี้

| key | value |
|-----|-------|
|'ตังเม'| '011-222-3333'|
|'เป่าหลง'| '099-999-9999'|
|'เจนนี่'| '011-111-1111'|
|'โนโซมิ'|  '066-666-6666' |

ดิกชันนารีมี key value อยู่ 4 คู่ เท่าเดิม  `name_to_phone_number['ตังเม'] = '011-222-3333'` ทำการเปลี่ยนคู่ key value ที่มี `'ตังเม'` เป็น key ให้เป็นค่าใหม่ที่ป้อนเข้าไป  ให้สังเกตด้วยว่าดิกชันนารีไม่ได้ลบคู่ key value เก่าและเติมคู่ใหม่เข้าไป ดิกชันนารีทำการเขียนทับตำแหน่งเดิม

## เข้าถึง value ด้วย key: `[]` และ `.get()`
เราสามารถระบุ key ที่เราต้องการทราบ value ได้ สมมติว่าเราต้องการทราบเบอร์โทรศัพท์ของตังเม จากดิกชันนารีที่เก็บหมายเลขโทรศัพท์ 
```python
name_to_phone_number = {'ตังเม': '088-888-8888', 'เป่าหลง' : '099-999-9999',
	'เจนนี่': '011-111-1111'}
name_to_phone_number['ตังเม'] # ---> '088-888-8888'
```
การเปิดหา value จาก key ที่ระบุเราเรียกว่าการเปิดหาข้อมูลในดิกชันนารี (dictionary lookup) ซึ่งแปลว่าเครื่องเก็บข้อมูลทุกอย่างไว้ในดิกชันนารีแล้ว ไม่ต้องไปตามมาหามาจากแหล่งอื่น สามารถเปิดหาแล้วเจอได้เลย 

ข้อควรระวังคือ ถ้าหากว่าเรา lookup จาก key ที่ไม่ได้มีอยู่ในดิกต์เราจะได้ `KeyError` คืนกลับมา
```
>>> name_to_phone_number = {'ตังเม': '088-888-8888', 'เป่าหลง' : '099-999-9999', 
...                      'เจนนี่': '011-111-1111'}
>>> name_to_phone_number['โนโซมิ']
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
KeyError: 'โนโซมิ'
```

ข้อควรระวังอีกประการคือ เราไม่สามารถ lookup จาก value เพื่อหา key ได้ เนื่องจากดิกชันนารีเก็บข้อมูลในลักษณะเราไปจาก key ไปสู่ value ได้ แต่ทำกลับกันไม่ได้ เครื่องจะให้ `KeyError` กลับมา
```
>>> name_to_phone_number['011-111-1111']
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
KeyError: '011-111-1111'
```

เพื่อป้องกันการเกิด `KeyError` เราสามารถใช้ `.get()` เพื่อ lookup แต่กำหนดค่าสำรองที่จะ return ได้ในกรณีที่ key นั้นไม่มีอยู่ในดิก
```
>>> word_to_freq = {'the': 50000, 'jump' : 200, 'Andy': 80}
>>> word_to_freq['Jack']
KeyError: 'Jack'
>>> word_to_freq.get('Jack')
None
>>> word_to_freq.get('Jack', 0)
0
```
บรรทัดที่สองคือการเปิดหา key `'laptop'` ในดิกต์ แต่ถ้าหากไม่เจอให้ return 0 ทำให้เราไม่ต้องเจอกับ `KeyError` 

## `for` ลูปบนดิกชันนารี
เราสามารถ for ลูปวนซ้ำไปบน key (iterate on keys) วนซ้ำไปบน value (iterate on values) หรือวนซ้ำไปบนคู่ key-value (iterate on key-value pairs) ขึ้นอยู่กับการใช้งาน โดยเราจะใช้ method `.keys() .values() .items()` ตามลำดับ ทั้ง 3 method นี้จะ return ค่าที่มี type เป็น *iterable* ซึ่งก็คือสิ่งที่เราสามารถ iterate ไปได้  

### วนซ้ำไปบน key 
เราสามารถใช้ไวยากรณ์ของ `for` ลูปไปบนดิกชันนารี ซึ่งจะตีความไปว่าเราจะไล่เรียงไปบน key แต่ละตัว 
ตั้งแต่ Python 3.7 ขึ้นไป การลูปบนดิกชันนารี เครื่องจะไล่เรียงข้อมูล ออกมาจะเป็นลำดับเดียวกับตอนที่ใส่ข้อมูลเข้าไป 
```python
name_to_phone_number = {'ตังเม': '088-888-8888', 'เป่าหลง' : '099-999-9999',
	'เจนนี่': '011-111-1111'}
name_to_phone_number['โนโซมิ'] = '066-666-6666'
name_to_phone_number['ตังเม'] = '011-222-3333'
for name in name_to_phone_number: 
	print(name)
```
จะได้ผลออกมาคือ
```python
ตังเม
เป่าหลง
เจนนี่
โนโซมิ
```
สังเกตว่า `ตังเม` ถูกไล่เรียงออกมาเป็นอันดับแรก ถึงแม้ว่าจะถูกเขียนทับทีหลังก็ตาม โดยทั่วไปแล้วเราไม่ควรอาศัยให้ดิกชันนารีเรียงลำดับข้อมูลตามลำดับที่ข้อมูลถูกป้อนเข้าไป 

หรือถ้าหากให้โค้ดมีความกระจ่างขึ้นว่าเรากำลังวนซ้ำไปบน key สามารถใช้ method `.keys()` เช่น
```python
for name in name_to_phone_number.keys(): 
	print(name)
```

แต่ถ้าหากต้องการเก็บ key ทั้งหมดไว้ในลิสต์แยกออกมาให้ใช้คำสั่ง `list()` เป็นการแปลง type จาก iterable ให้เป็นลิสต์ดังนี้

```
name_list = list(name_to_phone_number.keys())
```

### วนซ้ำไปบน value
ดิกชันนารีมี method `.values()` ที่ทำให้เราวนซ้ำไปบน value ได้
```python
name_to_phone_number = {'ตังเม': '088-888-8888', 'เป่าหลง' : '099-999-9999',
	'เจนนี่': '011-111-1111'}
name_to_phone_number['โนโซมิ'] = '066-666-6666'
for number in name_to_phone_number.values():
	print(number)
```
จะได้ผลออกมาคือ
```
088-888-8888
099-999-9999
011-111-1111
066-666-6666
```
ลำดับที่ปรากฏเหมือนกันกับการวนซ้ำไปบน key 

method `.values()` ให้ค่าเป็น iterable เช่นกัน เพราะฉะนั้นเราสามารถเก็บเอา value ทั้งหมดใส่ลิสต์โดยการแปลง type ให้เป็นลิสต์ด้วยคำสั่ง `list()`

```
phone_numbers = list(name_to_phone_number.values())
```

### วนซ้ำไปบนคู่ key-value

```python
for name, number in name_to_phone_number.items():
	print(name)
	print(number)
```
จะได้ผลออกมาคือ
```
ตังเม
088-888-8888
เป่าหลง
099-999-9999
เจนนี่
011-111-1111
โนโซมิ
066-666-6666
```

## ตรวจสอบว่ามี key นั้นอยู่ในดิกต์หรือไม่: `in`
เราสามารถตรวจสอบว่า key ที่เราต้องการหามีอยู่ในดิกต์อยู่แล้วหรือไม่ 

```python
word_to_freq = {'the': 50000, 'jump' : 200, 'Andy': 80}
'Jack' in word_to_freq #---> False
```

การตรวจสอบว่า value อยู่ในดิกต์หรือไม่ทำได้ค่อนข้างลำบากเราจะต้อง `for` ลูปวนไปบน value ทั้งหมดเพื่อหาเอง  เช่น ถ้าเราอยากทราบว่าค่า `200` เป็น value ที่อยู่ในดิกต์หรือไม่ 
```python
value_to_find = 200
word_to_freq = {'the': 50000, 'jump' : 200, 'Andy': 80}
for freq in word_to_freq.values():
	if value_to_find == freq:
		return True
return False
```
หรือนำ value เข้าลิสต์ก่อนแล้วค่อยใช้ `in` ในการตรวจสอบ
```python
value_to_find = 200
word_to_freq = {'the': 50000, 'jump' : 200, 'Andy': 80}
freq_list = list(word_to_freq.values())
return value_to_find in freq_list
```
ซึ่งทั้งสองวิธีเป็นมักจะใช้เวลานานเนื่องจากเราจะต้องวนไล่ไปบน value แต่ละตัว ยิ่งดิกชันนารีใหญ่แค่ไหนเวลาในการรันโปรแกรมก็จะนานตามไปด้วย ซึ่งต่างจากการตรวจสอบ key ซึ่งใช้เวลาในการรันโปรแกรมเป็นค่าคงตัว ไม่ขึ้นกับขนาดของดิกชันนารี ถ้าหากเราจำเป็นต้องมีการตรวจสอบว่ามี value อะไรอยู่หรือไม่ เราไม่ควรใช้ดิกต์ในการ

## ลบคู่ key-value: `.pop`
เราสามารถลบคู่ key-value โดยการระบุ key ไม่สามารถลบโดยการระบุ value ได้
```python
word_to_freq = {'the': 50000, 'jump' : 200, 'Andy': 80}
word_to_freq.pop('the')
print(word_to_freq)
```
จะได้ผลออกมาคือ
```python
{'jump': 200, 'Andy': 80}
```

# Tuple


# Counter
